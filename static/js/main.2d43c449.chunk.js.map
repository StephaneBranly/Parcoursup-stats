{"version":3,"sources":["components/Header/Header.tsx","assets/marker.svg","components/MapWrapper/clusterLayer.ts","components/MapWrapper/clusterSource.ts","components/MapWrapper/rasterLayer.ts","utils/pickRandomItem.ts","global/parcoursupAPI.ts","utils/loadFormationData.ts","utils/getField.ts","utils/openLink.ts","global/moduleNames.ts","utils/loadFormations.ts","components/MapWrapper/loadFeatures.ts","components/MapWrapper/MapWrapper.tsx","utils/clickMap.ts","components/GirlBoyProportion/GirlBoyProportion.tsx","components/FunnelCandidates/FunnelCandidates.tsx","components/StatsCard/StatsCard.tsx","components/BaccalaureatMention/BaccalaureatMention.tsx","components/FillingSpeed/FillingSpeed.tsx","components/About/About.tsx","components/SearchBar/SearchBar.tsx","views/FormationInfos/FormationInfos.tsx","views/FindFormation/FindFormation.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Header","props","currentView","setView","views","label","value","icon","className","map","view","index","onClick","clusterLayer","clusterSource","styleCache","VectorLayer","source","style","feature","size","get","length","schoolName","getProperties","Style","image","Icon","src","markerIcon","color","anchor","scale","text","Text","offsetY","Circle","radius","stroke","Stroke","fill","Fill","toString","Cluster","distance","minDistance","rasterLayer","TileLayer","maxZoom","XYZ","url","attributions","Math","floor","random","parcoursupAPI","loadFormationData","code_formation","a","requestURL","axios","result","data","nhits","records","fields","getField","school","fieldName","undefined","openLink","win","window","open","focus","moduleNames","loadFormations","query","r","console","error","loadFeatures","schoolsData","features","filter","entry","coord","realCoord","Array","from","reverse","feat","Feature","geometry","Point","transform","setProperties","clear","addFeatures","getView","fit","getExtent","padding","MapWrapper","useState","setMap","setSource","mapElement","useRef","useEffect","new_source","VectorSource","initialMap","Map","target","current","layers","View","projection","center","zoom","controls","addEventListener","e","evt","setSelectedSchoolID","forEachFeatureAtPixel","pixel","f","push","log","properties","clickMap","loadSchool","ref","GirlBoyProportion","dataCandidats","key","count_candidat_girls","count_candidat_boys","dataAccepted","count_accepted_girls","count_accepted_boys","pourcentageCandidates","toFixed","pourcentageAccepted","description","title","ResponsiveContainer","width","height","PieChart","Pie","startAngle","endAngle","isAnimationActive","dataKey","nameKey","cx","cy","innerRadius","outerRadius","LabelList","position","Legend","iconSize","layout","verticalAlign","align","FunnelCandidates","count_classed","count_proposition_accepted","count_proposition_received","count_candidates","createLabel","val","name","FunnelChart","Funnel","offset","StatsCard","children","BaccalaureatMention","count_ab","count_b","count_nr","count_sm","count_tb","count_tbf","labelLine","fontSize","strokeWidth","FillingSpeed","count_bac","count_end_pp","count_start_pp","renderLabel","legend","textAlign","AreaChart","margin","top","left","right","bottom","XAxis","angle","type","interval","YAxis","CartesianGrid","strokeDasharray","Area","About","setOpen","m","SearchBar","currentQuery","setValue","onChange","placeholder","FormationInfos","s","currentSchool","Helmet","grpNumber","rank","groupLabel","Number","group","renderRankLastCalled","renderSameAcademy","renderSameSchool","FindFormation","dataAttribution","App","setCurrentView","selectedSchool","setSelectedSchool","setSchoolsData","schoolID","setCurrentQuery","loadData","content","renderView","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2d43c449.chunk.js","sourcesContent":["import './Header.scss'\n\nimport { MdSearch, MdBarChart } from 'react-icons/md'\nimport { FaSchool } from 'react-icons/fa'\n\nexport interface HeaderProps {\n    currentView: string\n    setView: (newView: string) => void\n}\n\nconst Header = (props: HeaderProps) => {\n    const { currentView, setView } = props\n\n    const views = [\n        {\n            label: 'Formation',\n            value: 'seeFormationInfos',\n            icon: <FaSchool className=\"pcs-header-view-button-icon-content\" />,\n        },\n        {\n            label: 'Rechercher',\n            value: 'findFormation',\n            icon: <MdSearch className=\"pcs-header-view-button-icon-content\" />,\n        },\n        {\n            label: 'Comparer',\n            value: 'compareFormations',\n            icon: (\n                <MdBarChart className=\"pcs-header-view-button-icon-content\" />\n            ),\n        },\n    ]\n\n    const renderViewButtons = () => {\n        return views.map((view, index) => (\n            <div\n                key={index}\n                onClick={() => setView(view.value)}\n                className={`pcs-header-view-button ${\n                    currentView === view.value ? 'active' : ''\n                }`}\n            >\n                <div className=\"pcs-header-view-button-icon\">{view.icon}</div>\n                <div className=\"pcs-header-view-button-name\">{view.label}</div>\n            </div>\n        ))\n    }\n    return (\n        <div className=\"pcs-header\">\n            <div className=\"pcs-header-head\">\n                <h1 className=\"pcs-header-title\">\n                    📊 Statistiques sur Parcoursup\n                </h1>\n            </div>\n            <div className=\"pcs-header-menu\">{renderViewButtons()}</div>\n        </div>\n    )\n}\n\nexport default Header\n","export default __webpack_public_path__ + \"static/media/marker.7a162fbb.svg\";","import VectorLayer from 'ol/layer/Vector'\nimport Fill from 'ol/style/Fill'\nimport Circle from 'ol/style/Circle'\nimport Stroke from 'ol/style/Stroke'\nimport Text from 'ol/style/Text'\nimport Icon from 'ol/style/Icon'\nimport Style from 'ol/style/Style'\nimport markerIcon from '../../assets/marker.svg'\n\nconst clusterLayer = (clusterSource: any) => {\n    const styleCache: Record<string, Style[]> = {}\n    return new VectorLayer({\n        source: clusterSource,\n        style: (feature) => {\n            const size = feature.get('features').length\n            let style = styleCache[size]\n            if (!style || size === 1) {\n                if (size === 1) {\n                    const schoolName = feature\n                        .get('features')[0]\n                        .getProperties()['g_ea_lib_vx']\n                    style = [\n                        new Style({\n                            image: new Icon({\n                                src: markerIcon,\n                                color: '#e63946',\n                                anchor: [0.5, 1],\n                                scale: 0.5,\n                            }),\n                            text: new Text({\n                                text: schoolName,\n                                offsetY: 10,\n                            }),\n                        }),\n                    ]\n                } else {\n                    style = [\n                        new Style({\n                            image: new Circle({\n                                radius: 15,\n                                stroke: new Stroke({\n                                    color: '#e63946',\n                                }),\n                                fill: new Fill({\n                                    color: '#1d3557',\n                                }),\n                            }),\n                            text: new Text({\n                                text: size.toString(),\n                                fill: new Fill({\n                                    color: '#fff',\n                                }),\n                            }),\n                        }),\n                    ]\n                }\n                styleCache[size] = style\n            }\n            return style\n        },\n    })\n}\n\nexport default clusterLayer\n","import Geometry from 'ol/geom/Geometry'\nimport { Cluster, Vector as VectorSource } from 'ol/source'\n\nconst clusterSource = (source: VectorSource<Geometry>) => {\n    return new Cluster({\n        distance: 40,\n        minDistance: 20,\n        source: source,\n    })\n}\n\nexport default clusterSource\n","import TileLayer from 'ol/layer/Tile'\nimport XYZ from 'ol/source/XYZ'\n\nexport const rasterLayer = () => {\n    return new TileLayer({\n        maxZoom: 19,\n        source: new XYZ({\n            url: 'https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png',\n            attributions: 'carto.com',\n        }),\n    })\n}\n\nexport default rasterLayer\n","const { floor, random } = Math\n\nexport const pickRandomItem = <T = any>(items: T[]) => {\n    return items[floor(random() * items.length)]\n}\n","export const parcoursupAPI =\n    'https://data.enseignementsup-recherche.gouv.fr/api/records/1.0/search/?dataset=fr-esr-parcoursup'\n","import axios from 'axios'\nimport { parcoursupAPI } from 'global/parcoursupAPI'\n\nexport const loadFormationData = async (code_formation: string) => {\n    try {\n        const requestURL =\n            parcoursupAPI + `&q=cod_aff_form%3D\"${code_formation}\"`\n        const result = await axios.get(requestURL)\n        if (result.data && result.data.nhits === 1) {\n            return result.data.records[0].fields\n        }\n        return {}\n    } catch (e) {\n        return {}\n    }\n}\n","export const getField = (school: Record<string, any>, fieldName: string) => {\n    if (school[fieldName] !== undefined) return school[fieldName]\n    return 'NaN'\n}\n","export const openLink = (url: string) => {\n    const win = window.open(url, '_blank')\n    if (win) win.focus()\n}\n","export const moduleNames = [\n    'axios',\n    'html2canvas',\n    'ol',\n    'react',\n    'react-dom',\n    'react-helmet',\n    'react-icons',\n    'react-scripts',\n    'recharts',\n    'sass',\n    'use-react-screenshot',\n]\n","import axios from 'axios'\nimport { parcoursupAPI } from 'global'\n\nexport const loadFormations = async (\n    query?: string\n): Promise<Record<string, any>[]> => {\n    try {\n        const requestURL =\n            parcoursupAPI +\n            `&q=${\n                query ?? ''\n            }&rows=-1&fields=cod_aff_form,g_ea_lib_vx,g_olocalisation_des_formations`\n        const result = await axios.get(requestURL)\n        if (result.data)\n            return result.data.records.map((r: { fields: any }) => r.fields)\n        return []\n    } catch (e) {\n        console.error('error when loading Parcoursup data...')\n        return []\n    }\n}\n","import { Feature, Map } from 'ol'\nimport Geometry from 'ol/geom/Geometry'\nimport Point from 'ol/geom/Point'\nimport { transform } from 'ol/proj'\nimport VectorSource from 'ol/source/Vector'\n\nexport const loadFeatures = (\n    source: VectorSource<Geometry>,\n    map: Map,\n    schoolsData: Record<string, any>[]\n) => {\n    const features = schoolsData\n        .filter((entry) => {\n            return entry['g_olocalisation_des_formations'] !== undefined\n        })\n        .map((entry) => {\n            const coord = entry['g_olocalisation_des_formations']\n            const realCoord = Array.from(coord).reverse() as number[]\n            const feat = new Feature({\n                geometry: new Point(\n                    transform(realCoord, 'EPSG:4326', 'EPSG:3857')\n                ),\n            })\n            feat.setProperties({ ...entry })\n            return feat\n        })\n\n    if (!features) return\n    source.clear()\n    source.addFeatures(features)\n    if (!map) return\n    map.getView().fit(source.getExtent(), {\n        padding: [100, 100, 100, 100],\n    })\n}\n","import { useState, useRef, useEffect, RefObject } from 'react'\n\nimport './MapWrapper.scss'\n\nimport Map from 'ol/Map'\nimport View from 'ol/View'\nimport VectorSource from 'ol/source/Vector'\nimport Geometry from 'ol/geom/Geometry'\nimport { MapBrowserEvent } from 'ol'\n\nimport clusterLayer from './clusterLayer'\nimport clusterSource from './clusterSource'\nimport rasterLayer from './rasterLayer'\nimport { clickMap } from 'utils'\nimport { loadFeatures } from './loadFeatures'\n\nexport interface MapWrapperProps {\n    schoolsData: Record<string, any>[]\n    loadSchool: (schoolID: string) => void\n    dataAttribution: string\n}\n\nconst MapWrapper = (props: MapWrapperProps) => {\n    const [map, setMap] = useState<Map>()\n    const [source, setSource] = useState<VectorSource<Geometry>>()\n\n    const mapElement = useRef() as RefObject<HTMLDivElement>\n\n    useEffect(() => {\n        const new_source = new VectorSource()\n\n        const initialMap = new Map({\n            target: mapElement.current ?? undefined,\n            layers: [rasterLayer(), clusterLayer(clusterSource(new_source))],\n            view: new View({\n                projection: 'EPSG:3857',\n                center: [0, 0],\n                zoom: 2,\n            }),\n            controls: [],\n        })\n\n        initialMap.addEventListener('singleclick', (e) =>\n            clickMap(\n                e as MapBrowserEvent<UIEvent>,\n                initialMap,\n                props.loadSchool\n            )\n        )\n        // save map and vector layer references to state\n        setMap(initialMap)\n        setSource(new_source)\n        if (props.schoolsData.length)\n            loadFeatures(new_source, initialMap, props.schoolsData)\n    }, [])\n\n    useEffect(() => {\n        if (!source || !map || props.schoolsData.length === 0) return\n        loadFeatures(source, map, props.schoolsData)\n    }, [props.schoolsData])\n\n    return (\n        <div className=\"pcs-map-fragment\">\n            <div className=\"pcs-map-container\">\n                <div ref={mapElement} className=\"pcs-map\"></div>\n            </div>\n        </div>\n    )\n}\n\nexport default MapWrapper\n","import { Map, MapBrowserEvent } from 'ol'\n\nexport const clickMap = (\n    evt: MapBrowserEvent<UIEvent>,\n    map: Map,\n    setSelectedSchoolID: (id: string) => void\n) => {\n    const features: any[] = []\n    map.forEachFeatureAtPixel(evt.pixel, (f: any) => features.push(f))\n    console.log(features)\n    if (features.length !== 1) return\n    if (features[0].getProperties().features.length !== 1) return\n    const properties = features[0].getProperties().features[0].getProperties()\n    console.log(properties)\n    if (properties['cod_aff_form'])\n        setSelectedSchoolID(properties['cod_aff_form'])\n}\n","import { StatsCard } from 'components'\nimport { ResponsiveContainer, PieChart, Pie, Legend, LabelList } from 'recharts'\n\nexport interface GirlBoyProportionProps {\n    count_candidat_boys: number\n    count_candidat_girls: number\n    count_accepted_boys: number\n    count_accepted_girls: number\n    title: string\n}\n\nconst GirlBoyProportion = (props: GirlBoyProportionProps) => {\n    const dataCandidats = [\n        {\n            key: 'Nombre de candidates',\n            value: props.count_candidat_girls,\n            fill: '#e63946',\n        },\n        {\n            key: 'Nombre de candidats',\n            value: props.count_candidat_boys,\n            fill: '#a8dadc',\n        },\n    ]\n\n    const dataAccepted = [\n        {\n            key: \"Nombre d'acceptées\",\n            value: props.count_accepted_girls,\n            fill: '#6b6fdb',\n        },\n        {\n            key: \"Nombre d'acceptés\",\n            value: props.count_accepted_boys,\n            fill: '#76d169',\n        },\n    ]\n\n    const pourcentageCandidates = (\n        (props.count_candidat_girls /\n            (props.count_candidat_girls + props.count_candidat_boys)) *\n        100\n    ).toFixed(0)\n    const pourcentageAccepted = (\n        (props.count_accepted_girls /\n            (props.count_accepted_girls + props.count_accepted_boys)) *\n        100\n    ).toFixed(0)\n    const description = `Soit ${pourcentageCandidates}% de candidates et ${pourcentageAccepted}% ayant accepté définitivement la proposition`\n\n    return (\n        <StatsCard title={props.title} description={description}>\n            <ResponsiveContainer width=\"100%\" height={250}>\n                <PieChart>\n                    <Pie\n                        data={dataCandidats}\n                        startAngle={0}\n                        endAngle={180}\n                        isAnimationActive={false}\n                        dataKey=\"value\"\n                        nameKey=\"key\"\n                        cx=\"50%\"\n                        cy=\"100%\"\n                        innerRadius={80}\n                        outerRadius={120}\n                    >\n                        <LabelList\n                            position=\"insideTop\"\n                            fill=\"#000\"\n                            stroke=\"none\"\n                            dataKey=\"value\"\n                        />\n                    </Pie>\n\n                    <Pie\n                        data={dataAccepted}\n                        isAnimationActive={false}\n                        startAngle={0}\n                        endAngle={180}\n                        dataKey=\"value\"\n                        nameKey=\"key\"\n                        cx=\"50%\"\n                        cy=\"100%\"\n                        innerRadius={20}\n                        outerRadius={60}\n                    >\n                        <LabelList\n                            position=\"inside\"\n                            fill=\"#000\"\n                            stroke=\"none\"\n                            dataKey=\"value\"\n                        />\n                    </Pie>\n                    <Legend\n                        iconSize={10}\n                        layout=\"horizontal\"\n                        verticalAlign=\"bottom\"\n                        align=\"center\"\n                    />\n                </PieChart>\n            </ResponsiveContainer>\n        </StatsCard>\n    )\n}\n\nexport default GirlBoyProportion\n","import { StatsCard } from 'components'\nimport { ResponsiveContainer, Funnel, FunnelChart, LabelList } from 'recharts'\n\nexport interface FunnelCandidatesProps {\n    count_candidates: number\n    count_classed: number\n    count_proposition_received: number\n    count_proposition_accepted: number\n    title: string\n}\n\nconst FunnelCandidates = (props: FunnelCandidatesProps) => {\n    const {\n        title,\n        count_classed,\n        count_proposition_accepted,\n        count_proposition_received,\n        count_candidates,\n    } = props\n    const createLabel = (val: number, description: string): string => {\n        return `${val} ${description} (${(\n            (val / count_candidates) *\n            100\n        ).toFixed(0)}%)`\n    }\n\n    const data = [\n        {\n            name: 'Nombre de candidats',\n            value: count_candidates,\n            fill: '#e63946',\n            label: createLabel(count_candidates, 'candidat.e.s'),\n        },\n        {\n            name: 'Nombre de candidats classés',\n            value: count_classed,\n            fill: '#a8dadc',\n            label: createLabel(count_classed, 'classé.e.s'),\n        },\n        {\n            name: 'Nombre de candidats ayant recu une proposition',\n            value: count_proposition_received,\n            fill: '#457b9d',\n            label: createLabel(count_proposition_received, 'admis.e.s'),\n        },\n        {\n            name: 'Nombre de candidats ayant accepté la proposition',\n            value: count_proposition_accepted,\n            fill: '#1d3557',\n            label: createLabel(count_proposition_accepted, 'ont accepté'),\n        },\n    ]\n\n    return (\n        <StatsCard title={title}>\n            <ResponsiveContainer width=\"100%\" height={250}>\n                <FunnelChart>\n                    <Funnel\n                        dataKey=\"value\"\n                        data={data}\n                        isAnimationActive={false}\n                    >\n                        <LabelList\n                            position=\"insideTopLeft\"\n                            offset={10}\n                            fill=\"#000\"\n                            stroke=\"none\"\n                            dataKey=\"label\"\n                        />\n                    </Funnel>\n                </FunnelChart>\n            </ResponsiveContainer>\n        </StatsCard>\n    )\n}\n\nexport default FunnelCandidates\n","import './StatsCard.scss'\nexport interface StatsCardProps {\n    children: JSX.Element\n    title: string\n    description?: string | JSX.Element\n}\n\nconst StatsCard = (props: StatsCardProps) => {\n    const { children, title, description } = props\n\n    return (\n        <div className=\"pcs-statscard\">\n            <h1 className=\"pcs-statscard-title\">{title}</h1>\n            <div className=\"pcs-statscard-content\">\n                {children}\n                {description && (\n                    <div className=\"pcs-statscard-description\">\n                        {description}\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default StatsCard\n","import { StatsCard } from 'components'\nimport { ResponsiveContainer, Pie, PieChart, Legend, LabelList } from 'recharts'\n\nexport interface BaccalaureatMentionProps {\n    count_tbf: number\n    count_tb: number\n    count_b: number\n    count_ab: number\n    count_sm: number\n    count_nr: number\n    title: string\n}\n\nconst BaccalaureatMention = (props: BaccalaureatMentionProps) => {\n    const {\n        title,\n        count_ab,\n        count_b,\n        count_nr,\n        count_sm,\n        count_tb,\n        count_tbf,\n    } = props\n\n    const total =\n        count_ab + count_b + count_nr + count_sm + count_tb + count_tbf\n\n    const createLabel = (val: number): string => {\n        if (!val) return ''\n        return `${val}` // (${((val / total) * 100).toFixed(0)}%)`\n    }\n\n    const data = [\n        {\n            name: 'Très bien (avec félicitations)',\n            value: count_tbf,\n            fill: '#a639d6',\n            label: createLabel(count_tbf),\n        },\n        {\n            name: 'Très bien',\n            value: count_tb,\n            fill: '#e63946',\n            label: createLabel(count_tb),\n        },\n        {\n            name: 'Bien',\n            value: count_b,\n            fill: '#a8dadc',\n            label: createLabel(count_b),\n        },\n        {\n            name: 'Assez bien',\n            value: count_ab,\n            fill: '#457b9d',\n            label: createLabel(count_ab),\n        },\n        {\n            name: 'Sans mention',\n            value: count_sm,\n            fill: '#1d3557',\n            label: createLabel(count_sm),\n        },\n        {\n            name: 'Non référencé',\n            value: count_nr,\n            fill: '#2e2e2e',\n            label: createLabel(count_nr),\n        },\n    ]\n\n    return (\n        <StatsCard title={title}>\n            <ResponsiveContainer width=\"100%\" height={250}>\n                <PieChart>\n                    <Pie\n                        data={data}\n                        cx=\"50%\"\n                        cy=\"50%\"\n                        isAnimationActive={false}\n                        innerRadius={40}\n                        outerRadius={80}\n                        dataKey=\"value\"\n                        labelLine={false}\n                    >\n                        <LabelList\n                            position=\"outside\"\n                            fontSize={20}\n                            offset={6}\n                            fill=\"#000\"\n                            stroke=\"#000\"\n                            strokeWidth={1}\n                            dataKey=\"label\"\n                        />\n                    </Pie>\n                    <Legend\n                        iconSize={10}\n                        layout=\"horizontal\"\n                        verticalAlign=\"bottom\"\n                        align=\"center\"\n                    />\n                </PieChart>\n            </ResponsiveContainer>\n        </StatsCard>\n    )\n}\n\nexport default BaccalaureatMention\n","import { StatsCard } from 'components'\nimport {\n    ResponsiveContainer,\n    CartesianGrid,\n    XAxis,\n    YAxis,\n    AreaChart,\n    Area,\n    LabelList,\n} from 'recharts'\n\nexport interface FillingSpeedProps {\n    count_start_pp: number\n    count_bac: number\n    count_end_pp: number\n    title: string\n}\n\nconst FillingSpeed = (props: FillingSpeedProps) => {\n    const { title, count_bac, count_end_pp, count_start_pp } = props\n\n    const renderLabel = (value: number): string => `${value.toFixed(0)}%`\n    const data = [\n        {\n            name: '27 mai',\n            value: count_start_pp,\n            label: renderLabel(count_start_pp),\n        },\n        {\n            name: '17 juin',\n            value: count_bac,\n            label: renderLabel(count_bac),\n        },\n        {\n            name: '16 juillet',\n            value: count_end_pp,\n            label: renderLabel(count_end_pp),\n        },\n    ]\n\n    const legend = (\n        <ul style={{ textAlign: 'left' }}>\n            <li>27 mai : ouverture de Parcoursup</li>\n            <li>17 juin : avant le baccalauréat</li>\n            <li>16 juillet : fin de procédure Phase Principale</li>\n        </ul>\n    )\n\n    return (\n        <StatsCard title={title} description={legend}>\n            <ResponsiveContainer width=\"100%\" height={250}>\n                <AreaChart\n                    data={data}\n                    margin={{ top: 20, left: 0, right: 40, bottom: 0 }}\n                >\n                    <XAxis\n                        dataKey=\"name\"\n                        angle={-30}\n                        type=\"category\"\n                        interval={0}\n                    />\n                    <YAxis />\n                    <CartesianGrid stroke=\"#eee\" strokeDasharray=\"5 5\" />\n                    <Area\n                        type=\"linear\"\n                        dataKey=\"value\"\n                        stroke=\"#1d3557\"\n                        fill=\"#1d3557\"\n                        isAnimationActive={false}\n                    >\n                        <LabelList\n                            position=\"insideTop\"\n                            fill=\"#000\"\n                            stroke=\"#000\"\n                            strokeWidth={1}\n                            dataKey=\"label\"\n                        />\n                    </Area>\n                </AreaChart>\n            </ResponsiveContainer>\n        </StatsCard>\n    )\n}\n\nexport default FillingSpeed\n","import { moduleNames } from 'global'\nimport { useState } from 'react'\nimport { openLink } from 'utils'\nimport './About.scss'\n\nconst About = () => {\n    const [open, setOpen] = useState<boolean>(false)\n\n    const renderModules = () => {\n        return moduleNames.map((m) => (\n            <li onClick={() => openLink(`https://www.npmjs.com/package/${m}`)}>\n                {m}\n            </li>\n        ))\n    }\n    if (!open)\n        return (\n            <div className=\"pcs-about-closed\">\n                <div>Session 2021</div>\n                <div className=\"pcs-about-button\" onClick={() => setOpen(true)}>\n                    A propos\n                </div>\n            </div>\n        )\n    return (\n        <div className=\"pcs-about-open\">\n            <div className=\"pcs-about-close\">\n                <span onClick={() => setOpen(false)}>fermer</span>\n            </div>\n            <div className=\"pcs-about-made-by\">\n                Application développée par Stéphane BRANLY (J'ai dev ça)\n            </div>\n            <div\n                className=\"pcs-about-tags\"\n                onClick={() =>\n                    openLink(\n                        'https://github.com/StephaneBranly/parcoursup-stats'\n                    )\n                }\n            >\n                <div className=\"pcs-about-repo\">Dépot de code 💻</div>\n                <div\n                    className=\"pcs-about-sponsor\"\n                    onClick={() =>\n                        openLink(\n                            'https://www.paypal.com/paypalme/StephaneBranly'\n                        )\n                    }\n                >\n                    Sponsor 💜\n                </div>\n                <div\n                    className=\"pcs-about-data\"\n                    onClick={() =>\n                        openLink(\n                            'https://data.enseignementsup-recherche.gouv.fr/pages/parcoursupdata/?disjunctive.fili'\n                        )\n                    }\n                >\n                    Données publiques 🗃\n                </div>\n            </div>\n            <div className=\"pcs-about-packages\">\n                <div className=\"pcs-about-packages-label\">\n                    Modules utilisés 📦 :\n                </div>\n                <ul>{renderModules()}</ul>\n            </div>\n        </div>\n    )\n}\n\nexport default About\n","import { useState } from 'react'\nimport { MdSearch } from 'react-icons/md'\nimport './SearchBar.scss'\n\nexport interface SearchBarProps {\n    loadFormations: (query?: string) => void\n    currentQuery: string\n}\n\nconst SearchBar = (props: SearchBarProps) => {\n    const { loadFormations, currentQuery } = props\n\n    const [value, setValue] = useState<string>(currentQuery)\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'Enter') {\n            loadFormations(value)\n        }\n    }\n\n    return (\n        <div className=\"pcs-searchbar\">\n            <input\n                value={value}\n                onChange={(e) => setValue(e.target.value)}\n                className=\"pcs-searchbar-input\"\n                type=\"text\"\n                placeholder=\"Rechercher\"\n            />\n            <MdSearch\n                className=\"pcs-searchbar-button\"\n                onClick={() => loadFormations(value)}\n            />\n        </div>\n    )\n}\n\nexport default SearchBar\n","import {\n    BaccalaureatMention,\n    FillingSpeed,\n    FunnelCandidates,\n    GirlBoyProportion,\n} from 'components'\nimport { Helmet } from 'react-helmet'\nimport { getField } from 'utils'\nimport './FormationInfos.scss'\n\nexport interface FormationInfosProps {\n    currentSchool: Record<string, any> | undefined\n}\n\nconst FormationInfos = (props: FormationInfosProps) => {\n    const { currentSchool } = props\n    const s = currentSchool\n\n    const renderRankLastCalled = () => {\n        if (!s) return\n        return [1, 2, 3, 4, 5]\n            .map((grpNumber: number) => {\n                const rank = getField(s, `ran_grp${grpNumber}`)\n                const groupLabel = getField(s, `lib_grp${grpNumber}`)\n                return [grpNumber, Number(rank), groupLabel]\n            })\n            .filter(\n                ([index, rank, group]) =>\n                    rank !== 'NaN' &&\n                    rank !== 0 &&\n                    group !== 'NaN' &&\n                    group !== ''\n            )\n            .map(([index, rank, group]) => (\n                <li key={index}>\n                    {group} : <b>{rank}ème</b>\n                </li>\n            ))\n    }\n\n    const renderSameAcademy = () => {\n        if (!s) return\n        if (getField(s, 'pct_aca_orig_idf') === 'NaN') return\n        return (\n            <li>\n                📚 <b>{Number(getField(s, 'pct_aca_orig_idf')).toFixed(0)}%</b>{' '}\n                d'admis.e.s néobachelier.e.s issu.e.s de la même académie\n                (Paris/Crétail/Versailles réunies)\n            </li>\n        )\n    }\n    const renderSameSchool = () => {\n        if (!s) return\n        if (getField(s, 'pct_etab_orig') === 'NaN') return\n        return (\n            <li>\n                🏢 <b>{Number(getField(s, 'pct_etab_orig')).toFixed(0)}%</b>{' '}\n                d'admis.e.s néobachelier.e.s issu.e.s du même établissement\n            </li>\n        )\n    }\n\n    if (!s)\n        return (\n            <div className=\"pcs-formationinfos-fragment\">\n                <h1 className=\"pcs-formationinfos-title\">\n                    Informations générales\n                </h1>\n                <div className=\"pcs-formationinfos-main\">\n                    <h1 className=\"pcs-schoolname\">\n                        Selectionnez une formation\n                    </h1>\n                </div>\n            </div>\n        )\n    return (\n        <div className=\"pcs-formationinfos-fragment\">\n            <Helmet>\n                <title>\n                    Parcoursup - Statistiques - {getField(s, 'g_ea_lib_vx')}\n                </title>\n            </Helmet>\n            <h1 className=\"pcs-formationinfos-title\">Informations générales</h1>\n            <div className=\"pcs-formationinfos-main\">\n                <h1 className=\"pcs-schoolname\">\n                    {getField(s, 'fil_lib_voe_acc')}\n                </h1>\n                <div>\n                    <ul className=\"pcs-stats-ul\">\n                        <li>🗂 {getField(s, 'select_form')}</li>\n                        <li>\n                            🏢 {getField(s, 'g_ea_lib_vx')} -{' '}\n                            <i>{getField(s, 'contrat_etab')}</i>\n                        </li>\n                        <li>\n                            🗺 {getField(s, 'dep_lib')} ({getField(s, 'dep')}) -{' '}\n                            {getField(s, 'region_etab_aff')}\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div className=\"pcs-formationinfos-stats\">\n                <div>\n                    <b>En 2021 :</b>\n                    <ul className=\"pcs-stats-ul\">\n                        <li>\n                            🎓 <b>{getField(s, 'capa_fin')}</b> places\n                            disponibles\n                        </li>\n                        <li>\n                            📄 <b>{getField(s, 'voe_tot')}</b> voeux enregistrés\n                        </li>\n                        <li>\n                            <b>🗂 Rangs des derniers appelés par groupe :</b>\n                        </li>\n                        {renderRankLastCalled()}\n                        {renderSameAcademy()}\n\n                        {renderSameSchool()}\n                    </ul>\n                </div>\n            </div>\n\n            <div className=\"pcs-formationinfo-statscard-wrapper\">\n                <GirlBoyProportion\n                    count_candidat_boys={\n                        getField(s, 'voe_tot') - getField(s, 'voe_tot_f')\n                    }\n                    count_candidat_girls={getField(s, 'voe_tot_f')}\n                    count_accepted_boys={\n                        getField(s, 'acc_tot') - getField(s, 'acc_tot_f')\n                    }\n                    count_accepted_girls={getField(s, 'acc_tot_f')}\n                    title={'Proportion de candidates / candidats'}\n                />\n                <FunnelCandidates\n                    count_candidates={getField(s, 'nb_voe_pp')}\n                    count_classed={getField(s, 'nb_cla_pp')}\n                    count_proposition_received={getField(s, 'prop_tot')}\n                    count_proposition_accepted={getField(s, 'acc_tot')}\n                    title={'Sélectivité de la formation'}\n                />\n                <BaccalaureatMention\n                    count_tbf={getField(s, 'acc_tbf')}\n                    count_tb={getField(s, 'acc_tb')}\n                    count_b={getField(s, 'acc_b')}\n                    count_ab={getField(s, 'acc_ab')}\n                    count_sm={getField(s, 'acc_sansmention')}\n                    count_nr={getField(s, 'acc_mention_nonrenseignee')}\n                    title={'Mention au bac des néobachelier.e.s'}\n                />\n                <FillingSpeed\n                    count_start_pp={getField(s, 'pct_acc_debutpp')}\n                    count_bac={getField(s, 'pct_acc_datebac')}\n                    count_end_pp={getField(s, 'pct_acc_finpp')}\n                    title={'Vitesse de remplissage'}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default FormationInfos\n","import { MapWrapper, SearchBar } from 'components'\nimport { Helmet } from 'react-helmet'\nimport './FindFormation.scss'\n\nexport interface FindFormationProps {\n    //\n    schoolsData: Record<string, any>[]\n    loadSchool: (schoolID: string) => void\n    loadFormations: (query?: string) => void\n    currentQuery: string\n}\n\nconst FindFormation = (props: FindFormationProps) => {\n    const { schoolsData, loadSchool, loadFormations, currentQuery } = props\n    return (\n        <div className=\"pcs-findformation-fragment\">\n            <Helmet>\n                <title>Parcoursup - Statistiques - Rechercher</title>\n            </Helmet>\n            <h1 className=\"pcs-findformation-title\">Carte des formations</h1>\n            <div className=\"pcs-findformation-main\">\n                <SearchBar\n                    loadFormations={loadFormations}\n                    currentQuery={currentQuery}\n                />\n                <MapWrapper\n                    schoolsData={schoolsData}\n                    dataAttribution={'Parcoursup 2021 - OpenStreetMap'}\n                    loadSchool={loadSchool}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default FindFormation\n","import { useEffect, useState } from 'react'\n\nimport './App.scss'\n\nimport { Helmet } from 'react-helmet'\n\nimport { About, Header } from 'components'\nimport { loadFormations, loadFormationData } from 'utils'\nimport { FindFormation, FormationInfos } from 'views'\n\nfunction App() {\n    const [currentView, setCurrentView] = useState<string>('findFormation')\n    const [selectedSchool, setSelectedSchool] = useState<\n        Record<string, any> | undefined\n    >()\n    const [schoolsData, setSchoolsData] = useState<Record<string, any>[]>([])\n\n    const loadSchool = async (schoolID: string) => {\n        const result = await loadFormationData(schoolID)\n        console.log(result)\n        setSelectedSchool(result)\n    }\n\n    const [currentQuery, setCurrentQuery] = useState<string>('')\n    const loadData = async (query?: string) => {\n        const result = await loadFormations(query)\n        setCurrentQuery(query ?? '')\n        setSchoolsData(result)\n    }\n\n    useEffect(() => {\n        loadData()\n    }, [])\n\n    const renderView = () => {\n        switch (currentView) {\n            case 'findFormation':\n                return (\n                    <FindFormation\n                        schoolsData={schoolsData}\n                        loadSchool={loadSchool}\n                        loadFormations={loadData}\n                        currentQuery={currentQuery}\n                    />\n                )\n            case 'seeFormationInfos':\n                return <FormationInfos currentSchool={selectedSchool} />\n            default:\n                return <p>Seems like something is broken :( Reload the page</p>\n        }\n    }\n\n    return (\n        <section>\n            <Helmet>\n                <title>Parcoursup - Statistiques</title>\n                <meta\n                    name=\"description\"\n                    content=\"Visualiseur des données publiques de Parcoursup\"\n                />\n            </Helmet>\n            <Header currentView={currentView} setView={setCurrentView} />\n            <section className=\"pcs-main-section\">{renderView()}</section>\n            <About />\n        </section>\n    )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry)\n                getFID(onPerfEntry)\n                getFCP(onPerfEntry)\n                getLCP(onPerfEntry)\n                getTTFB(onPerfEntry)\n            }\n        )\n    }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}