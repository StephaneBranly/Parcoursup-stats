(this["webpackJsonpparcoursup-stats"]=this["webpackJsonpparcoursup-stats"]||[]).push([[0],{311:function(e,t,a){},313:function(e,t,a){},316:function(e,t,a){},318:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),i=a(128),s=a.n(i),r=(a(311),a(39)),o=a.n(r),l=a(103),d=a(69),u=a(26),b=(a(313),a(89)),j=(a(316),a(132)),f=a(263),p=a(3),m=function(e){var t=e.currentView,a=e.setView,c=[{label:"Formation",value:"seeFormationInfos",icon:Object(p.jsx)(f.a,{className:"pcs-header-view-button-icon-content"})},{label:"Rechercher",value:"findFormation",icon:Object(p.jsx)(j.b,{className:"pcs-header-view-button-icon-content"})},{label:"Comparer",value:"compareFormations",icon:Object(p.jsx)(j.a,{className:"pcs-header-view-button-icon-content"})}];return Object(p.jsxs)("div",{className:"pcs-header",children:[Object(p.jsx)("div",{className:"pcs-header-head",children:Object(p.jsx)("h1",{className:"pcs-header-title",children:"\ud83d\udcca Statistiques sur Parcoursup"})}),Object(p.jsx)("div",{className:"pcs-header-menu",children:c.map((function(e,c){return Object(p.jsxs)("div",{onClick:function(){return a(e.value)},className:"pcs-header-view-button ".concat(t===e.value?"active":""),children:[Object(p.jsx)("div",{className:"pcs-header-view-button-icon",children:e.icon}),Object(p.jsx)("div",{className:"pcs-header-view-button-name",children:e.label})]},c)}))})]})},_=(a(318),a(281)),h=a(83),x=a(174),O=a(282),v=a(87),g=a(141),y=a(105),N=a(206),w=a(286),k=a(120),F=a.p+"static/media/marker.7a162fbb.svg",S=function(e){var t={};return new O.a({source:e,style:function(e){var a=e.get("features").length,c=t[a];if(!c||1===a){if(1===a){var n=e.get("features")[0].getProperties().g_ea_lib_vx;c=[new k.b({image:new w.a({src:F,color:"#e63946",anchor:[.5,1],scale:.5}),text:new N.a({text:n,offsetY:10})})]}else c=[new k.b({image:new g.a({radius:15,stroke:new y.a({color:"#e63946"}),fill:new v.a({color:"#0e2950"})}),text:new N.a({text:a.toString(),fill:new v.a({color:"#fff"})})})];t[a]=c}return c}})},A=a(491),P=function(e){return new A.a({distance:40,minDistance:20,source:e})},C=a(285),D=a(283),K=function(){return new C.a({maxZoom:19,source:new D.a({url:"https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",attributions:"carto.com"})})},I=(Math.floor,Math.random,a(168)),R=a.n(I),V="https://data.enseignementsup-recherche.gouv.fr/api/records/1.0/search/?dataset=fr-esr-parcoursup",M=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=V+'&q=cod_aff_form%3D"'.concat(t,'"'),e.next=4,R.a.get(a);case 4:if(!(c=e.sent).data||1!==c.data.nhits){e.next=7;break}return e.abrupt("return",c.data.records[0].fields);case 7:return e.abrupt("return",{});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t){return void 0!==e[t]?e[t]:"NaN"},z=a(16),q=function(e){var t=window.open(e,"_blank");t&&t.focus()},L=["axios","html2canvas","ol","react","react-dom","react-helmet","react-icons","react-scripts","recharts","sass","use-react-screenshot"],T=function(){var e=Object(d.a)(o.a.mark((function e(t,a){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=V+"&q=".concat(null!==a&&void 0!==a?a:"","&rows=-1&fields=cod_aff_form,g_ea_lib_vx,g_olocalisation_des_formations,fil_lib_voe_acc,detail_forma"),e.next=4,R.a.get(c);case 4:if(!(n=e.sent).data){e.next=7;break}return e.abrupt("return",[n.data.records.map((function(e){return e.fields})),t]);case 7:return e.abrupt("return",[[],t]);case 10:return e.prev=10,e.t0=e.catch(0),console.error("error when loading Parcoursup data..."),e.abrupt("return",[[],t]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),B=function(e,t){if(!e||!t)return 1/0;var a=G(t[0]-e[0]),c=G(t[1]-e[1]),n=G(e[0]),i=G(t[0]),s=Math.sin(a/2)*Math.sin(a/2)+Math.sin(c/2)*Math.sin(c/2)*Math.cos(n)*Math.cos(i);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},G=function(e){return e*Math.PI/180},Q=a(264),W=a(113),J=function(e,t,a){var c=a.filter((function(e){return void 0!==e.g_olocalisation_des_formations})).map((function(e){var t=e.g_olocalisation_des_formations,a=Array.from(t).reverse(),c=new Q.a({geometry:new W.a(Object(z.o)(a,"EPSG:4326","EPSG:3857"))});return c.setProperties(Object(l.a)({},e)),c}));c&&(e.clear(),e.addFeatures(c),t&&t.getView().fit(e.getExtent(),{padding:[100,100,100,100]}))},Y=function(e){var t=Object(c.useState)(),a=Object(u.a)(t,2),n=a[0],i=a[1],s=Object(c.useState)(),r=Object(u.a)(s,2),o=r[0],l=r[1],d=Object(c.useRef)();return Object(c.useEffect)((function(){var t,a=new x.a,c=new _.a({target:null!==(t=d.current)&&void 0!==t?t:void 0,layers:[K(),S(P(a))],view:new h.a({projection:"EPSG:3857",center:[0,0],zoom:2}),controls:[]});c.addEventListener("singleclick",(function(t){return function(e,t,a,c){var n=[];t.forEachFeatureAtPixel(e.pixel,(function(e){return n.push(e)}));var i=e.coordinate;if(c(Object(z.o)(i,"EPSG:3857","EPSG:4326")),1===n.length&&1===n[0].getProperties().features.length){var s=n[0].getProperties().features[0].getProperties();s.cod_aff_form&&a(s.cod_aff_form)}}(t,c,e.setSelectedFormation,e.setCoordProximity)})),i(c),l(a),e.formationsData.length&&J(a,c,e.formationsData)}),[]),Object(c.useEffect)((function(){o&&n&&0!==e.formationsData.length&&J(o,n,e.formationsData)}),[e.formationsData]),Object(p.jsx)("div",{className:"pcs-map-fragment",children:Object(p.jsx)("div",{className:"pcs-map-container",children:Object(p.jsx)("div",{ref:d,className:"pcs-map"})})})},U=a(492),Z=a(501),H=a(276),X=a(92),$=a(139),ee=function(e){var t=[{key:"Nombre de candidates",value:e.count_candidat_girls,fill:"#e63946"},{key:"Nombre de candidats",value:e.count_candidat_boys,fill:"#a8dadc"}],a=[{key:"Nombre d'accept\xe9es",value:e.count_accepted_girls,fill:"#6b6fdb"},{key:"Nombre d'accept\xe9s",value:e.count_accepted_boys,fill:"#76d169"}],c=(e.count_candidat_girls/(e.count_candidat_girls+e.count_candidat_boys)*100).toFixed(0),n=(e.count_accepted_girls/(e.count_accepted_girls+e.count_accepted_boys)*100).toFixed(0),i="Soit ".concat(c,"% de candidates et ").concat(n,"% ayant accept\xe9 d\xe9finitivement la proposition");return Object(p.jsx)(ue,{title:e.title,description:i,children:Object(p.jsx)(U.a,{width:"100%",height:250,children:Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(H.a,{data:t,startAngle:0,endAngle:180,isAnimationActive:!1,dataKey:"value",nameKey:"key",cx:"50%",cy:"100%",innerRadius:80,outerRadius:120,children:Object(p.jsx)(X.a,{position:"insideTop",fill:"#000",stroke:"none",dataKey:"value"})}),Object(p.jsx)(H.a,{data:a,isAnimationActive:!1,startAngle:0,endAngle:180,dataKey:"value",nameKey:"key",cx:"50%",cy:"100%",innerRadius:20,outerRadius:60,children:Object(p.jsx)(X.a,{position:"inside",fill:"#000",stroke:"none",dataKey:"value"})}),Object(p.jsx)($.a,{iconSize:10,layout:"horizontal",verticalAlign:"bottom",align:"center"})]})})})},te=a(496),ae=a(497),ce=a(171),ne=a(172),ie=a(143),se=a(287),re=function(e){var t=e.data,a=function(e,t){return"".concat(t,"% (").concat(e,")")},c=t.map((function(e){var t=e.count_candidates_boys+e.count_candidates_girls,c=(e.count_candidates_boys/t*100).toFixed(0),n=(e.count_candidates_girls/t*100).toFixed(0),i=e.count_accepted_boys+e.count_accepted_girls,s=(e.count_accepted_boys/i*100).toFixed(0),r=(e.count_accepted_girls/i*100).toFixed(0);return Object(l.a)({count_candidates_boys_pct:c,count_candidates_girls_pct:n,count_accepted_boys_pct:s,count_accepted_girls_pct:r,label_candidates_boys:a(e.count_candidates_boys,c),label_candidates_girls:a(e.count_candidates_girls,n),label_accepted_boys:a(e.count_accepted_boys,s),label_accepted_girls:a(e.count_accepted_girls,r)},e)}));return Object(p.jsx)(ue,{title:e.title,children:Object(p.jsx)(U.a,{width:"100%",height:250,children:Object(p.jsxs)(te.a,{data:c,children:[Object(p.jsx)(ae.a,{strokeDasharray:"3 3"}),Object(p.jsx)(ce.a,{dataKey:"formationName"}),Object(p.jsx)(ne.a,{}),Object(p.jsx)(ie.a,{}),Object(p.jsx)($.a,{iconSize:10,layout:"horizontal",verticalAlign:"bottom",align:"center"}),Object(p.jsx)(se.a,{isAnimationActive:!1,dataKey:"count_candidates_boys_pct",stackId:"a",fill:"#a8dadc",name:"% de candidats",children:Object(p.jsx)(X.a,{position:"middle",fill:"#000",stroke:"none",dataKey:"label_candidates_boys"})}),Object(p.jsx)(se.a,{isAnimationActive:!1,dataKey:"count_candidates_girls_pct",stackId:"a",fill:"#e63946",name:"% de candidates",children:Object(p.jsx)(X.a,{position:"middle",fill:"#000",stroke:"none",dataKey:"label_candidates_girls"})}),Object(p.jsx)(se.a,{isAnimationActive:!1,dataKey:"count_accepted_boys_pct",stackId:"b",fill:"#76d169",name:"% d'accept\xe9s",children:Object(p.jsx)(X.a,{position:"middle",fill:"#000",stroke:"none",dataKey:"label_accepted_boys"})}),Object(p.jsx)(se.a,{isAnimationActive:!1,dataKey:"count_accepted_girls_pct",stackId:"b",fill:"#6b6fdb",name:"% d'accept\xe9es",children:Object(p.jsx)(X.a,{position:"middle",fill:"#000",stroke:"none",dataKey:"label_accepted_girls"})})]})})})},oe=a(498),le=a(288),de=function(e){var t=e.title,a=e.count_classed,c=e.count_proposition_accepted,n=e.count_proposition_received,i=e.count_candidates,s=function(e,t){return"".concat(e," ").concat(t," (").concat((e/i*100).toFixed(0),"%)")},r=[{name:"Nombre de candidats",value:i,fill:"#e63946",label:s(i,"candidat.e.s")},{name:"Nombre de candidats class\xe9s",value:a,fill:"#a8dadc",label:s(a,"class\xe9.e.s")},{name:"Nombre de candidats ayant recu une proposition",value:n,fill:"#457b9d",label:s(n,"admis.e.s")},{name:"Nombre de candidats ayant accept\xe9 la proposition",value:c,fill:"#0e2950",label:s(c,"ont accept\xe9")}];return Object(p.jsx)(ue,{title:t,children:Object(p.jsx)(U.a,{width:"100%",height:250,children:Object(p.jsx)(oe.a,{children:Object(p.jsx)(le.a,{dataKey:"value",data:r,isAnimationActive:!1,children:Object(p.jsx)(X.a,{position:"insideTopLeft",offset:10,fill:"#000",stroke:"none",dataKey:"label"})})})})})},ue=(a(479),function(e){var t=e.children,a=e.title,c=e.description;return Object(p.jsxs)("div",{className:"pcs-statscard",children:[Object(p.jsx)("h1",{className:"pcs-statscard-title",children:a}),Object(p.jsxs)("div",{className:"pcs-statscard-content",children:[t,c&&Object(p.jsx)("div",{className:"pcs-statscard-description",children:c})]})]})}),be=function(e){var t=e.title,a=e.count_ab,c=e.count_b,n=e.count_nr,i=e.count_sm,s=e.count_tb,r=e.count_tbf,o=function(e){return e?"".concat(e):""},l=[{name:"Tr\xe8s bien (avec f\xe9licitations)",value:r,fill:"#a639d6",label:o(r)},{name:"Tr\xe8s bien",value:s,fill:"#e63946",label:o(s)},{name:"Bien",value:c,fill:"#a8dadc",label:o(c)},{name:"Assez bien",value:a,fill:"#457b9d",label:o(a)},{name:"Sans mention",value:i,fill:"#0e2950",label:o(i)},{name:"Non r\xe9f\xe9renc\xe9",value:n,fill:"#2e2e2e",label:o(n)}];return Object(p.jsx)(ue,{title:t,children:Object(p.jsx)(U.a,{width:"100%",height:250,children:Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(H.a,{data:l,cx:"50%",cy:"50%",isAnimationActive:!1,innerRadius:40,outerRadius:80,dataKey:"value",labelLine:!1,children:Object(p.jsx)(X.a,{position:"outside",fontSize:20,offset:6,fill:"#000",stroke:"#000",strokeWidth:1,dataKey:"label"})}),Object(p.jsx)($.a,{iconSize:10,layout:"horizontal",verticalAlign:"bottom",align:"center"})]})})})},je=a(499),fe=a(280),pe=function(e){var t=e.title,a=e.count_bac,c=e.count_end_pp,n=e.count_start_pp,i=function(e){return Number.isFinite(e)?"".concat(e.toFixed(0),"%"):""},s=[{name:"27 mai",value:n,label:i(n)},{name:"17 juin",value:a,label:i(a)},{name:"16 juillet",value:c,label:i(c)}],r=Object(p.jsxs)("ul",{style:{textAlign:"left"},children:[Object(p.jsx)("li",{children:"27 mai : ouverture de Parcoursup"}),Object(p.jsx)("li",{children:"17 juin : avant le baccalaur\xe9at"}),Object(p.jsx)("li",{children:"16 juillet : fin de proc\xe9dure Phase Principale"})]});return Object(p.jsx)(ue,{title:t,description:r,children:Object(p.jsx)(U.a,{width:"100%",height:250,children:Object(p.jsxs)(je.a,{data:s,margin:{top:20,left:0,right:40,bottom:0},children:[Object(p.jsx)(ce.a,{dataKey:"name",angle:-30,type:"category",interval:0}),Object(p.jsx)(ne.a,{}),Object(p.jsx)(ae.a,{stroke:"#eee",strokeDasharray:"5 5"}),Object(p.jsx)(fe.a,{type:"linear",dataKey:"value",stroke:"#0e2950",fill:"#0e2950",isAnimationActive:!1,children:Object(p.jsx)(X.a,{position:"insideTop",fill:"#000",stroke:"#000",strokeWidth:1,dataKey:"label"})})]})})})},me=(a(480),function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1];return a?Object(p.jsxs)("div",{className:"pcs-about-open",children:[Object(p.jsx)("div",{className:"pcs-about-close",children:Object(p.jsx)("span",{onClick:function(){return n(!1)},children:"fermer"})}),Object(p.jsx)("div",{className:"pcs-about-made-by",children:"Application d\xe9velopp\xe9e par St\xe9phane BRANLY"}),Object(p.jsxs)("div",{className:"pcs-about-tags",children:[Object(p.jsx)("div",{className:"pcs-about-repo",onClick:function(){return q("https://github.com/StephaneBranly/parcoursup-stats")},children:"D\xe9pot de code \ud83d\udcbb"}),Object(p.jsx)("div",{className:"pcs-about-sponsor",onClick:function(){return q("https://www.paypal.com/paypalme/StephaneBranly")},children:"Sponsor \ud83d\udc9c"}),Object(p.jsx)("div",{className:"pcs-about-data",onClick:function(){return q("https://data.enseignementsup-recherche.gouv.fr/pages/parcoursupdata/?disjunctive.fili")},children:"Donn\xe9es publiques \ud83d\uddc3"})]}),Object(p.jsxs)("div",{className:"pcs-about-packages",children:[Object(p.jsx)("div",{className:"pcs-about-packages-label",children:"Modules utilis\xe9s \ud83d\udce6 :"}),Object(p.jsx)("ul",{children:L.map((function(e){return Object(p.jsx)("li",{onClick:function(){return q("https://www.npmjs.com/package/".concat(e))},children:e})}))})]})]}):Object(p.jsxs)("div",{className:"pcs-about-closed",children:[Object(p.jsx)("div",{children:"Session 2021"}),Object(p.jsx)("div",{className:"pcs-about-button",onClick:function(){return n(!0)},children:"A propos"})]})}),_e=(a(481),function(e){var t=e.loadFormations,a=e.currentQuery,n=Object(c.useState)(a),i=Object(u.a)(n,2),s=i[0],r=i[1];return Object(p.jsxs)("div",{className:"pcs-searchbar",children:[Object(p.jsx)("input",{value:s,onChange:function(e){return r(e.target.value)},className:"pcs-searchbar-input",type:"text",placeholder:"Rechercher",onKeyPress:function(e){"Enter"===e.key&&t(s)}}),Object(p.jsx)(j.b,{className:"pcs-searchbar-button",onClick:function(){return t(s)}})]})}),he=function(e){var t=e.title,a=e.count_bg,c=e.count_bt,n=e.count_bp,i=e.count_oc,s=function(e){return e?"".concat(e):""},r=[{name:"N\xe9obachelier.e.s g\xe9n\xe9raux",value:a,fill:"#e63946",label:s(a)},{name:"N\xe9obachelier.e.s technologiques",value:c,fill:"#a8dadc",label:s(c)},{name:"N\xe9obachelier.e.s profressionnel.le.s",value:n,fill:"#457b9d",label:s(n)},{name:"Autres candidat.e.s",value:i,fill:"#0e2950",label:s(i)}];return Object(p.jsx)(ue,{title:t,children:Object(p.jsx)(U.a,{width:"100%",height:250,children:Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(H.a,{data:r,cx:"50%",cy:"50%",isAnimationActive:!1,innerRadius:40,outerRadius:80,dataKey:"value",labelLine:!1,children:Object(p.jsx)(X.a,{position:"outside",fontSize:20,offset:6,fill:"#000",stroke:"#000",strokeWidth:1,dataKey:"label"})}),Object(p.jsx)($.a,{iconSize:10,layout:"horizontal",verticalAlign:"bottom",align:"center"})]})})})},xe=(a(482),function(e){var t=e.formationsData,a=e.setSelectedFormation,c=e.setView,n=e.coordProximity,i=function(e){return function(e,t){return Object.keys(e).includes(t)}(e,"g_olocalisation_des_formations")&&Array.isArray(e.g_olocalisation_des_formations)};return Object(p.jsx)("div",{className:"pcs-formationList-fragment",children:Object(p.jsx)("ul",{className:"pcs-formationList-list",children:2===n.length?t.sort((function(e,t){return i(e)&&i(t)&&B(Array.from(e.g_olocalisation_des_formations).reverse(),n)<B(Array.from(t.g_olocalisation_des_formations).reverse(),n)?-1:1})).map((function(e,t){return Object(p.jsx)(Oe,{setSelectedFormation:a,setView:c,formationData:e},t)})):t.map((function(e,t){return Object(p.jsx)(Oe,{setSelectedFormation:a,setView:c,formationData:e},t)}))})})}),Oe=(a(483),function(e){var t=e.formationData,a=e.setSelectedFormation,c=e.setView,n=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.cod_aff_form);case 2:c("seeFormationInfos");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("li",{className:"pcs-formationItem",onClick:n,children:[Object(p.jsx)("b",{children:E(t,"fil_lib_voe_acc")})," -"," ",E(t,"g_ea_lib_vx")," ","NaN"!==E(t,"detail_forma")?Object(p.jsxs)("em",{children:["- ",E(t,"detail_forma")]}):""]})}),ve=(a(484),function(e){var t=e.currentFormation,a=e.setView,c=e.toggleComparedFormation,n=e.comparedFormations,i=e.formationID,s=t,r=function(){if(s)return[1,2,3,4,5].map((function(e){var t=E(s,"ran_grp".concat(e)),a=E(s,"lib_grp".concat(e));return[e,Number(t),a]})).filter((function(e){var t=Object(u.a)(e,3),a=(t[0],t[1]),c=t[2];return"NaN"!==a&&0!==a&&"NaN"!==c&&""!==c})).map((function(e){var t=Object(u.a)(e,3),a=t[0],c=t[1],n=t[2];return Object(p.jsxs)("li",{children:[n," : ",Object(p.jsxs)("b",{children:[c,"\xe8me"]})]},a)}))};return s&&0!==Object.keys(s).length?Object(p.jsxs)("div",{className:"pcs-formationinfos-fragment",children:[Object(p.jsx)(b.a,{children:Object(p.jsxs)("title",{children:["Parcoursup - Statistiques - ",E(s,"g_ea_lib_vx")," -"," ",E(s,"fil_lib_voe_acc")]})}),Object(p.jsx)("div",{className:"pcs-formationinfos-compared",children:Object(p.jsx)("button",{onClick:function(){return c(i)},children:n.includes(i)?"Retirer du comparateur":"Ajouter au comparateur"})}),Object(p.jsx)("h1",{className:"pcs-formationinfos-title",children:"Informations g\xe9n\xe9rales"}),Object(p.jsxs)("div",{className:"pcs-formationinfos-main",children:[Object(p.jsx)("h1",{className:"pcs-formationname",children:E(s,"fil_lib_voe_acc")}),Object(p.jsx)("div",{children:Object(p.jsxs)("ul",{className:"pcs-stats-ul",children:[Object(p.jsxs)("li",{children:["\ud83d\uddc2"," ","NaN"!==E(s,"detail_forma")?Object(p.jsxs)("em",{children:[E(s,"detail_forma")," - "]}):"",E(s,"select_form")]}),Object(p.jsxs)("li",{children:["\ud83c\udfe2 ",E(s,"g_ea_lib_vx")," -"," ",Object(p.jsx)("i",{children:E(s,"contrat_etab")})]}),Object(p.jsxs)("li",{children:["\ud83d\uddfa ",E(s,"dep_lib")," (",E(s,"dep"),") -"," ",E(s,"region_etab_aff")]})]})})]}),Object(p.jsx)("div",{className:"pcs-formationinfos-stats",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"En 2021 :"}),Object(p.jsxs)("ul",{className:"pcs-stats-ul",children:[Object(p.jsxs)("li",{children:["\ud83c\udf93 ",Object(p.jsx)("b",{children:E(s,"capa_fin")})," places disponibles"]}),Object(p.jsxs)("li",{children:["\ud83d\udcc4 ",Object(p.jsx)("b",{children:E(s,"voe_tot")})," voeux enregistr\xe9s"]}),r()&&r().length>0&&Object(p.jsx)("li",{children:Object(p.jsx)("b",{children:"\ud83d\uddc2 Rangs des derniers appel\xe9s par groupe :"})}),r(),function(){if(s&&"NaN"!==E(s,"pct_aca_orig_idf"))return Object(p.jsxs)("li",{children:["\ud83d\udcda ",Object(p.jsxs)("b",{children:[Number(E(s,"pct_aca_orig_idf")).toFixed(0),"%"]})," ","d'admis.e.s n\xe9obachelier.e.s issu.e.s de la m\xeame acad\xe9mie (Paris/Cr\xe9tail/Versailles r\xe9unies)"]})}(),function(){if(s&&"NaN"!==E(s,"pct_etab_orig"))return Object(p.jsxs)("li",{children:["\ud83c\udfe2 ",Object(p.jsxs)("b",{children:[Number(E(s,"pct_etab_orig")).toFixed(0),"%"]})," ","d'admis.e.s n\xe9obachelier.e.s issu.e.s du m\xeame \xe9tablissement"]})}(),function(){if(s&&"NaN"!==E(s,"pct_bours"))return Object(p.jsxs)("li",{children:["\ud83d\udcb6 ",Object(p.jsxs)("b",{children:[Number(E(s,"pct_bours")).toFixed(0),"%"]})," ","d'admis.e.s n\xe9obachelier.e.s boursier.e.s"]})}()]})]})}),Object(p.jsxs)("div",{className:"pcs-formationinfo-statscard-wrapper",children:[Object(p.jsx)(ee,{count_candidat_boys:E(s,"voe_tot")-E(s,"voe_tot_f"),count_candidat_girls:E(s,"voe_tot_f"),count_accepted_boys:E(s,"acc_tot")-E(s,"acc_tot_f"),count_accepted_girls:E(s,"acc_tot_f"),title:"Proportion de candidates / candidats"}),Object(p.jsx)(de,{count_candidates:E(s,"nb_voe_pp"),count_classed:E(s,"nb_cla_pp"),count_proposition_received:E(s,"prop_tot"),count_proposition_accepted:E(s,"acc_tot"),title:"S\xe9lectivit\xe9 de la formation"}),Object(p.jsx)(be,{count_tbf:E(s,"acc_tbf"),count_tb:E(s,"acc_tb"),count_b:E(s,"acc_b"),count_ab:E(s,"acc_ab"),count_sm:E(s,"acc_sansmention"),count_nr:E(s,"acc_mention_nonrenseignee"),title:"Mention au bac des n\xe9obachelier.e.s"}),Object(p.jsx)(he,{count_bg:E(s,"acc_bg"),count_bp:E(s,"acc_bp"),count_bt:E(s,"acc_bt"),count_oc:E(s,"acc_at"),title:"Provenance des futur.e.s \xe9tudiant.e.s"}),Object(p.jsx)(pe,{count_start_pp:E(s,"pct_acc_debutpp"),count_bac:E(s,"pct_acc_datebac"),count_end_pp:E(s,"pct_acc_finpp"),title:"Vitesse de remplissage"})]})]}):Object(p.jsxs)("div",{className:"pcs-formationinfos-fragment",children:[Object(p.jsx)("h1",{className:"pcs-formationinfos-title",children:"Informations g\xe9n\xe9rales"}),s&&0===Object.keys(s).length&&Object(p.jsx)("div",{className:"pcs-formationinfos-main",children:Object(p.jsxs)("h1",{className:"pcs-formationname",children:["\ud83d\ude41 Nous n'avons pas trouv\xe9 la formation d'id"," ",i]})}),Object(p.jsx)("div",{className:"pcs-formationinfos-main clickable",onClick:function(){return a("findFormation")},children:Object(p.jsx)("h1",{className:"pcs-formationname",children:"\ud83d\udd0d Recherchez une formation pour visualiser ses informations"})})]})}),ge=(a(485),function(e){var t=e.formationsData,a=e.setSelectedFormation,n=e.loadFormations,i=e.currentQuery,s=e.setView,r=Object(c.useState)([]),o=Object(u.a)(r,2),l=o[0],d=o[1];return Object(p.jsxs)("div",{className:"pcs-findformation-fragment",children:[Object(p.jsx)(b.a,{children:Object(p.jsx)("title",{children:"Parcoursup - Statistiques - Rechercher"})}),Object(p.jsx)("h1",{className:"pcs-findformation-title",children:"Carte des formations"}),Object(p.jsxs)("div",{className:"pcs-findformation-main",children:[Object(p.jsx)(_e,{loadFormations:n,currentQuery:i}),Object(p.jsx)(Y,{formationsData:t,dataAttribution:"Parcoursup 2021 - OpenStreetMap",setSelectedFormation:a,setCoordProximity:d}),Object(p.jsx)(xe,{formationsData:t,setSelectedFormation:a,setView:s,coordProximity:l})]})]})}),ye=(a(486),function(e){var t=e.comparedFormations,a=(e.toggleComparedFormation,e.formationsData),c=e.loadFormation,n=t.map((function(e){var t,n=a[e];return n?{formationID:e,formationName:(t=n,"".concat(E(t,"fil_lib_voe_acc")," - \n    ").concat(E(t,"g_ea_lib_vx")," \n    ").concat("NaN"!==E(t,"detail_forma")?"- ".concat(E(t,"detail_forma")):"")),count_candidates_boys:E(n,"voe_tot")-E(n,"voe_tot_f"),count_candidates_girls:E(n,"voe_tot_f"),count_accepted_boys:E(n,"acc_tot")-E(n,"acc_tot_f"),count_accepted_girls:E(n,"acc_tot_f")}:(c(e),[])}));return Object(p.jsxs)("div",{className:"pcs-compareFormations-fragment",children:[Object(p.jsx)(b.a,{children:Object(p.jsx)("title",{children:"Parcoursup - Statistiques - Comparer"})}),t.map((function(e){return Object(p.jsx)("div",{children:e})})),Object(p.jsx)("h1",{className:"pcs-compareFormations-title",children:"Comparaisons des formations"}),Object(p.jsx)("div",{className:"pcs-compareFormations-main",children:"Ici le contenu de comparaison"}),Object(p.jsx)("div",{className:"pcs-formationinfo-statscard-wrapper",children:Object(p.jsx)(re,{data:n,title:"Proportion de candidates / candidats"})})]})});var Ne=function(){var e=Object(c.useState)("findFormation"),t=Object(u.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(),s=Object(u.a)(i,2),r=s[0],j=s[1],f=Object(c.useState)([]),_=Object(u.a)(f,2),h=_[0],x=_[1],O=Object(c.useState)([]),v=Object(u.a)(O,2),g=v[0],y=v[1],N=Object(c.useState)([]),w=Object(u.a)(N,2),k=w[0],F=w[1],S=Object(c.useState)({}),A=Object(u.a)(S,2),P=A[0],C=A[1],D=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(P).includes(t)){e.next=7;break}return e.next=3,M(t);case 3:a=e.sent,(c={})[t]=a,C(Object(l.a)(Object(l.a)({},c),P));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(P).includes(t)){e.next=3;break}return e.next=3,D(t);case 3:j(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(c.useState)(""),R=Object(u.a)(I,2),V=R[0],E=R[1],z=Object(c.useState)(0),q=Object(u.a)(z,2),L=q[0],B=q[1],G=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c,n,i,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(L+1),a=[],c=-1,t||!(k.length>0)){e.next=7;break}a=k,e.next=16;break;case 7:return e.next=9,T(Number(L),t);case 9:n=e.sent,i=Object(u.a)(n,2),s=i[0],r=i[1],c=r,a=s,t||F(a);case 16:E(null!==t&&void 0!==t?t:""),(!t&&0===g.length||c===L)&&y(a);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){G();var e=new URLSearchParams(window.location.search),t=e.get("q"),a=e.get("f"),c=e.get("c");if(a)K(a),n("seeFormationInfos");else if(c){var i=c.split(",");Q(i)}else t&&G(t)}),[]);var Q=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach((function(e){return D(e)})),x(t),n("compareFormations");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(P).includes(t)){e.next=3;break}return e.next=3,D(t);case 3:h.includes(t)?x(h.filter((function(e){return e!==t}))):x(h.concat(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("section",{children:[Object(p.jsxs)(b.a,{children:[Object(p.jsx)("title",{children:"Parcoursup - Statistiques"}),Object(p.jsx)("meta",{name:"description",content:"Visualiseur des donn\xe9es publiques de Parcoursup"})]}),Object(p.jsx)(m,{currentView:a,setView:n}),Object(p.jsx)("section",{className:"pcs-main-section",children:function(){switch(a){case"findFormation":return Object(p.jsx)(ge,{formationsData:g,setSelectedFormation:K,loadFormations:G,currentQuery:V,setView:n});case"seeFormationInfos":return Object(p.jsx)(ve,{currentFormation:r?P[r]:void 0,setView:n,comparedFormations:h,toggleComparedFormation:W,formationID:null!==r&&void 0!==r?r:""});case"compareFormations":return Object(p.jsx)(ye,{comparedFormations:h,toggleComparedFormation:W,formationsData:P,loadFormation:D});default:return Object(p.jsx)("p",{children:"Seems like something is broken :( Reload the page"})}}()}),Object(p.jsx)(me,{})]})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,502)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),i(e),s(e)}))};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(Ne,{})}),document.getElementById("root")),we()}},[[487,1,2]]]);
//# sourceMappingURL=main.df3dd5dd.chunk.js.map